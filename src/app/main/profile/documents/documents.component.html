<div class="row" [loader]="isLoading">
  <div class="col-lg-6 p-2">
    <div class="main-white-box">
      <div class="top-area">
        <div class="small-title semi-weight">Upload Document Details</div>
      </div>
      <div class="content-area">
        <div class="boxed-label-input d-flex">
          <label>I want to upload</label>

          <select (change)="uploadType($event)">
            <option value="{{element.id}}" *ngFor="let element of docConfig; let indexArray = index;" [selected]="keyName === element.title">{{element.title}}</option>
            <!-- <option value="{{element.title}}" *ngFor="let element of docConfig; let indexArray = index;" [selected]="keyName === element.title">{{element.title}}</option> -->
          </select>
        </div>

        <form>
          <ng-container *ngFor="let item of configFieldArray; let index = index;">
            <ng-container
              *ngIf="item.fieldType != 'choice' && item.fieldType != 'date'&& item.fieldType != 'country' && item.fieldType != 'file'">
              <div class="boxed-label-input d-flex">
                <label>{{item.title}}</label>
                <input type="{{item.fieldType}}" (change)="updateValue($event,item.title ,item.fieldType )"
                  required="{{item.required}}" name="{{item.title}}" id="{{item.title}}" />
              </div>
              <div class="errors"
                *ngIf="isSubmited && item.title == FieldValueArray[index].name && FieldValueArray[index].value == ''">
                This fields is required</div>
            </ng-container>

            <div class="dropzon {{removespaceClass(item.title)}}">
              <ng-container *ngIf="item.fieldType == 'file'">
                <label class="{{removespaceClass(item.title)}}">{{item.title}}</label>
                <ngx-dropzone (change)="onSelect($event,item.title)" [multiple]="false"
                  class="{{removespaceClass(item.title)}}">
                  <ngx-dropzone-label>{{item.title}}</ngx-dropzone-label>
                  <ng-container *ngFor="let f of files">
                    <ng-container *ngIf="item.title == f.title">
                      <ngx-dropzone-preview *ngFor="let fileItem of f.data; let indexArray = index;" [removable]="true"
                        (removed)="onRemove(item.title,indexArray)">
                        <ngx-dropzone-label>
                          {{ fileItem.name }} </ngx-dropzone-label>
                      </ngx-dropzone-preview>
                    </ng-container>
                  </ng-container>
                </ngx-dropzone>
                <div class="errors" *ngIf="isSubmited && item.title == FieldValueArray[index].name &&
                        FieldValueArray[index].value == ''">
                  this fields is required</div>
              </ng-container>
            </div>

            <!-- Date piker custome fields array  -->
            <ng-container *ngIf="item.fieldType == 'date'">
              <div class="boxed-label-input d-flex">
                <label>{{item.title}}</label>
                <input type="text" class="form-control" required="{{item.required}}" name="{{item.title}}"
                  id="{{item.title}}" (bsValueChange)="updateValue($event,item.title ,item.fieldType)" [bsConfig]="{ showWeekNumbers:false }" bsDatepicker>

                <!--

                        <input type="{{item.fieldType}}"
                        (change)="updateValue($event,item.title ,item.fieldType )"
                        required="{{item.required}}" name="{{item.title}}" id="{{item.title}}"
                        /> -->
              </div>
              <div class="errors"
                *ngIf="isSubmited && item.title == FieldValueArray[index].name && FieldValueArray[index].value == ''">
                This fields is required</div>
            </ng-container>

            <!-- Country -  custome fields array  -->

            <ng-container *ngIf="item.fieldType == 'country'">
              <div class="boxed-label-input d-flex">
                <label>{{item.title}}</label>
                <select (change)="updateValue($event,item.title ,item.fieldType )">
                  <option value="" [defaultSelected]="true" class="d-none"> </option>
                  <option value="{{countryName.number}}" *ngFor="let countryName of countryList;"> {{countryName.name}}
                  </option>
                </select>
                <!-- <input type="{{item.fieldType}}"
                        multiple
                        (change)="updateValue($event,item.title ,item.fieldType )"
                        required="{{item.required}}" name="{{item.title}}" id="{{item.title}}"
                        /> -->
              </div>
              <div class="errors"
                *ngIf="isSubmited && item.title == FieldValueArray[index].name && FieldValueArray[index].value == ''">
                This fields is required</div>
            </ng-container>
            <ng-container *ngIf="item.fieldType == 'choice'">
              <div class="boxed-label-input d-flex">
                <label>{{ChangeLabelManage(item.title)}}</label>
                <select (change)="updateValue($event,item.title ,item.fieldType )">
                  <option value="" [defaultSelected]="true" class="d-none"></option>
                  <option *ngFor="let itemData of item.choices" [value]="itemData">{{changeDropLabel(itemData)}}
                  </option>
                </select>
              </div>
              <div class="errors"
                *ngIf=" isSubmited && item.title == FieldValueArray[index].name && FieldValueArray[index].value == ''">
                This fields is required</div>
            </ng-container>
          </ng-container>
          <div class="button-parent d-flex justify-content-center">
            <button (click)="uploadDocSubmit()" type="button"
              class="primary-button sub-title lg-btn semi-weight">Submit</button>
          </div>
        </form>

      </div>
    </div>
  </div>
  <div class="col-lg-6 p-2">
    <div class="main-white-box">
      <div class="top-area">
        <div class="small-title semi-weight">Uploaded Document Details</div>
      </div>
      <div class="content-area">
        <div class="table-overflow-box">
          <table class="full-width-table">
            <thead>
              <tr>
                <th>Type</th>
                <th>Status</th>
                <th>Reason</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngIf="docLists?.length > 0">

                <tr *ngFor="let item of docLists; let index = index;">
                  <td>{{item.uploadConfig.title }}</td>
                  <td [ngClass]="{ 'green-box' : item.status == 'approved',
                            'yellow-box' : item.status == 'pending' || item.status ==  'fresh',
                            'red-box' : item.status == 'declined' || item.status ==  'cancelled'
                            || item.status == 'expired'
                          }">
                    {{item.status}}</td>
                  <td>
                    {{item.declineReason}}
                  </td>
                  <td>
                    <button (click)="deleteLinks(item)" class="simple-button hover-btn"><svg
                        xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
                        <g clip-path="url(#clip0_122_7194)">
                          <path
                            d="M15.75 3H13.425C13.2509 2.15356 12.7904 1.39301 12.1209 0.846539C11.4515 0.300068 10.6142 0.00109089 9.75 0L8.25 0C7.38585 0.00109089 6.54849 0.300068 5.87906 0.846539C5.20964 1.39301 4.74907 2.15356 4.575 3H2.25C2.05109 3 1.86032 3.07902 1.71967 3.21967C1.57902 3.36032 1.5 3.55109 1.5 3.75C1.5 3.94891 1.57902 4.13968 1.71967 4.28033C1.86032 4.42098 2.05109 4.5 2.25 4.5H3V14.25C3.00119 15.2442 3.39666 16.1973 4.09967 16.9003C4.80267 17.6033 5.7558 17.9988 6.75 18H11.25C12.2442 17.9988 13.1973 17.6033 13.9003 16.9003C14.6033 16.1973 14.9988 15.2442 15 14.25V4.5H15.75C15.9489 4.5 16.1397 4.42098 16.2803 4.28033C16.421 4.13968 16.5 3.94891 16.5 3.75C16.5 3.55109 16.421 3.36032 16.2803 3.21967C16.1397 3.07902 15.9489 3 15.75 3ZM8.25 1.5H9.75C10.2152 1.50057 10.6688 1.64503 11.0487 1.91358C11.4286 2.18213 11.7161 2.56162 11.8718 3H6.12825C6.28394 2.56162 6.57143 2.18213 6.95129 1.91358C7.33116 1.64503 7.78479 1.50057 8.25 1.5ZM13.5 14.25C13.5 14.8467 13.2629 15.419 12.841 15.841C12.419 16.2629 11.8467 16.5 11.25 16.5H6.75C6.15326 16.5 5.58097 16.2629 5.15901 15.841C4.73705 15.419 4.5 14.8467 4.5 14.25V4.5H13.5V14.25Z" />
                          <path
                            d="M7.5 13.5C7.69891 13.5 7.88968 13.421 8.03033 13.2803C8.17098 13.1397 8.25 12.9489 8.25 12.75V8.25C8.25 8.05109 8.17098 7.86032 8.03033 7.71967C7.88968 7.57902 7.69891 7.5 7.5 7.5C7.30109 7.5 7.11032 7.57902 6.96967 7.71967C6.82902 7.86032 6.75 8.05109 6.75 8.25V12.75C6.75 12.9489 6.82902 13.1397 6.96967 13.2803C7.11032 13.421 7.30109 13.5 7.5 13.5Z" />
                          <path
                            d="M10.5 13.5C10.6989 13.5 10.8897 13.421 11.0303 13.2803C11.171 13.1397 11.25 12.9489 11.25 12.75V8.25C11.25 8.05109 11.171 7.86032 11.0303 7.71967C10.8897 7.57902 10.6989 7.5 10.5 7.5C10.3011 7.5 10.1103 7.57902 9.96967 7.71967C9.82902 7.86032 9.75 8.05109 9.75 8.25V12.75C9.75 12.9489 9.82902 13.1397 9.96967 13.2803C10.1103 13.421 10.3011 13.5 10.5 13.5Z" />
                        </g>
                        <defs>
                          <clipPath id="clip0_122_7194">
                            <rect width="18" height="18" />
                          </clipPath>
                        </defs>
                      </svg></button>
                  </td>
                </tr>

              </ng-container>
              <ng-container *ngIf="!docLists || docLists?.length == 0">
                <tr>
                  <td colspan="5" class="text-center">There are no documents at the moment</td>
                </tr>
              </ng-container>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>