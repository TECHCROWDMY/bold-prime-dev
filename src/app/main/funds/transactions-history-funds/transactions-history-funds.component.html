<div [loader]="isLoading">

  <!-- Pending TransAction and Transfer Table  -->
  <div class="button-parent d-flex align-items-start justify-content-between">
    <div class="tabbing-link">
      <button type="button" [ngClass]="pendingcategory == 'pendingtransactions' ? 'active' : ''"
        (click)="categoryHandle('pendingtransactions')">Pending Transactions</button>
      <button type="button" [ngClass]="pendingcategory == 'pendingtransfers' ? 'active' : ''"
        (click)="categoryHandle('pendingtransfers')">Pending Transfers</button>
    </div>

  </div>

  <div class="main-white-box mb-4">
    <div class="table-overflow-box">
      <!-- panding transactions -->
      <ng-container *ngIf="pendingcategory === 'pendingtransactions' ">
        <table class="full-width-table">
          <tr>
            <th *ngFor="let item of pandingTransactionList.columns; let index = index"
              [ngClass]="{'d-none' :  index == 6 || index == 9 ||  index == 10   ||  index == 11}">
              {{item.title}}<button (click)="shortingHandle(item,'pendingtransaction')" class="simple-button"><svg
                  xmlns="http://www.w3.org/2000/svg" width="7" height="10" viewBox="0 0 7 10" fill="none">
                  <path
                    d="M3.54377 9.92071L6.63497 6.73298C6.82785 6.53407 6.71093 6.15381 6.45689 6.15381H0.274486C0.0204399 6.15381 -0.0964805 6.53407 0.0964054 6.73298L3.18761 9.92071C3.29008 10.0264 3.44129 10.0264 3.54377 9.92071Z"
                    fill="#D9D9D9" />
                  <path
                    d="M3.18731 0.0792933L0.0961056 3.26702C-0.0967808 3.46593 0.0201392 3.84619 0.274185 3.84619L6.45659 3.84619C6.71063 3.84619 6.82755 3.46593 6.63467 3.26702L3.54347 0.0792933C3.44099 -0.0263808 3.28978 -0.0263805 3.18731 0.0792933Z"
                    fill="#D9D9D9" />
                </svg></button>
            </th>
            <th>
              Action
            </th>
          </tr>

          <ng-container *ngIf="isPendingCheck == 0">
            <tr>
              <td colspan="10" class="text-center"> No data found </td>
            </tr>
          </ng-container>
          <ng-container *ngIf="pandingTransactionList?.rows?.length > 0">
            <tr *ngFor="let item of pandingTransactionList.rows; ">
              <ng-container *ngIf="item.data[2].value == 'pending check' ">
                <td *ngFor="let rowData of item.data; let index = index" [ngClass]="{'d-none' :   index == 6 || index == 9 || index == 10 ||index == 11,
               'green-box' : rowData.value == 'approved',
                'yellow-box' : rowData.value == 'pending' || rowData.value ==  'cancelled',
                'red-box' : rowData.value == 'pending check' || rowData.value ==  'fresh',
                'green' : index == 7 && valueOFColor(rowData.value) ,
                'errors' : index == 7 && !valueOFColor(rowData.value),
                'general-link pointer' : index == 4
              }">
                  <div (click)="accountDetails(rowData.value)" *ngIf="index == 4">
                    {{rowData.value == 'pending check' ? 'Pending' : rowData.value}}
                  </div>
                  <div *ngIf="index != 4 && index != 7">
                    {{rowData.value == 'pending check' ? 'Pending' : rowData.value}}
                  </div>
                  <div *ngIf="index == 7">
                    {{currencyFor(rowData.value)}}
                  </div>

                </td>

                <td>
                  <div class='red-box' (click)="cancelWithdraw(item)">
                    Cancel Withdraw
                  </div>
                </td>

              </ng-container>
            </tr>
          </ng-container>
        </table>

      </ng-container>
      <!-- pending transfers -->
      <ng-container *ngIf="pendingcategory === 'pendingtransfers' ">
        <table class="full-width-table">
          <tr>
            <th *ngFor="let item of TransferList.columns; let index = index">
              {{item.title}}<button class="simple-button" (click)="shortingHandle(item,'transfer')"><svg
                  xmlns="http://www.w3.org/2000/svg" width="7" height="10" viewBox="0 0 7 10" fill="none">
                  <path
                    d="M3.54377 9.92071L6.63497 6.73298C6.82785 6.53407 6.71093 6.15381 6.45689 6.15381H0.274486C0.0204399 6.15381 -0.0964805 6.53407 0.0964054 6.73298L3.18761 9.92071C3.29008 10.0264 3.44129 10.0264 3.54377 9.92071Z"
                    fill="#D9D9D9" />
                  <path
                    d="M3.18731 0.0792933L0.0961056 3.26702C-0.0967808 3.46593 0.0201392 3.84619 0.274185 3.84619L6.45659 3.84619C6.71063 3.84619 6.82755 3.46593 6.63467 3.26702L3.54347 0.0792933C3.44099 -0.0263808 3.28978 -0.0263805 3.18731 0.0792933Z"
                    fill="#D9D9D9" />
                </svg></button>
            </th>
          </tr>

          <ng-container *ngIf="isPendingCheck == 0">
            <tr>
              <td colspan="9" class="text-center"> No data found </td>
            </tr>
          </ng-container>
          <!-- 'd-none' :   index == 6 || index == 9 || index == 10 , -->
          <ng-container *ngIf="TransferList?.rows?.length > 0">
            <tr *ngFor="let item of TransferList.rows; ">
              <ng-container *ngIf="item.data[3].value !==  'approved'
                && item.data[3].value !==  'Cancelled'
                && item.data[3].value !==  'Declined'  ">
                <td *ngFor="let rowData of item.data; let index = index" [ngClass]="{'red-box' : rowData.value !== 'Cancelled' && rowData.value !== 'approved' && rowData.value !== 'Declined' ,
                'green' : index == 6 }">
                  <!-- <td *ngFor="let rowData of item.data; let index = index" [ngClass]="{'d-none' :   index == 1 || index == 7,
                'red-box' : rowData.value !== 'Cancelled' && rowData.value !== 'approved' && rowData.value !== 'Declined' ,
                'green' : index == 6 }"> -->
                  <!-- <div>
                    {{
                    index == 2 ?  item.data[2].value  + ' => ' +  item.data[1].value :
                    index == 6 ? currencyFor(rowData.value) :
                    rowData.value
                  }}
                  </div> -->
                  <div *ngIf="index == 5">
                    {{ index == 5 ? currencyFor(rowData.value) : rowData.value }}
                  </div>

                  <div *ngIf="index != 5">
                    {{ rowData.value == null ? "-" : rowData.value }}
                  </div>
                </td>
              </ng-container>
            </tr>
          </ng-container>
        </table>

      </ng-container>


    </div>
  </div>

  <!-- TransAction and Transfer Table  -->
  <div class="button-parent d-flex align-items-start justify-content-between mt-6">
    <!-- category -->
    <div class="tabbing-link">
      <button [ngClass]="category == 'transactions' ? 'active' : ''" type="button"
        (click)="categoryHandle('transactions')">Transactions</button>
      <button [ngClass]="category == 'transfers' ? 'active' : ''" (click)="categoryHandle('transfers')"
        type="button">Transfers</button>
    </div>
    <div class="filter-parent-box d-flex" *ngIf="category == 'transactions' || category == 'transfers'">
      <a class="bordered-btn" (click)="filterHandle()">
        <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M13.9389 9.5655C15.5119 9.5655 16.7916 10.8388 16.7916 12.4035C16.7916 13.9683 15.5119 15.2415 13.9389 15.2415C12.365 15.2415 11.0844 13.9683 11.0844 12.4035C11.0844 10.8388 12.365 9.5655 13.9389 9.5655ZM13.9389 10.9405C13.1231 10.9405 12.4594 11.5968 12.4594 12.4035C12.4594 13.2111 13.1231 13.8665 13.9389 13.8665C14.7538 13.8665 15.4166 13.2111 15.4166 12.4035C15.4166 11.5968 14.7538 10.9405 13.9389 10.9405ZM7.24027 11.7516C7.61977 11.7516 7.92777 12.0596 7.92777 12.4391C7.92777 12.8186 7.61977 13.1266 7.24027 13.1266H1.46436C1.08486 13.1266 0.776858 12.8186 0.776858 12.4391C0.776858 12.0596 1.08486 11.7516 1.46436 11.7516H7.24027ZM3.60358 0.666504C5.1775 0.666504 6.45717 1.94067 6.45717 3.50542C6.45717 5.07017 5.1775 6.3425 3.60358 6.3425C2.03058 6.3425 0.75 5.07017 0.75 3.50542C0.75 1.94067 2.03058 0.666504 3.60358 0.666504ZM3.60358 2.0415C2.78867 2.0415 2.125 2.69784 2.125 3.50542C2.125 4.31209 2.78867 4.9675 3.60358 4.9675C4.41942 4.9675 5.08217 4.31209 5.08217 3.50542C5.08217 2.69784 4.41942 2.0415 3.60358 2.0415ZM15.5918 2.86687C15.9713 2.86687 16.2793 3.17487 16.2793 3.55437C16.2793 3.93387 15.9713 4.24187 15.5918 4.24187H9.81684C9.43734 4.24187 9.12934 3.93387 9.12934 3.55437C9.12934 3.17487 9.43734 2.86687 9.81684 2.86687H15.5918Z" />
        </svg> Filter
      </a>
      <div class="filter-over-box" [ngClass]="{'show' : filterHideShow == true}">

        <div class="top-area">
          <div class="text-center semi-weight">Filter</div>
        </div>
        <div class="filter-overflow">
          <cdk-accordion class="example-accordion">
            <cdk-accordion-item *ngFor="let item of filterMenu; let index = index;" #accordionItem="cdkAccordionItem"
              class="example-accordion-item" role="button" tabindex="0" [attr.id]="'accordion-header-' + index"
              [attr.aria-expanded]="accordionItem.expanded" [attr.aria-controls]="'accordion-body-' + index"
              >
              <div class="example-accordion-item-header d-flex align-items-center justify-content-between" (click)="accordionItem.toggle()">
                {{ item.fields }}
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M6.1018 8C5.02785 8 4.45387 9.2649 5.16108 10.0731L10.6829 16.3838C11.3801 17.1806 12.6197 17.1806 13.3169 16.3838L18.8388 10.0731C19.5459 9.2649 18.972 8 17.898 8H6.1018Z" fill="#212121"/>
                  </svg>
              </div>
              <div class="example-accordion-item-body" role="region"
                [style.display]="accordionItem.expanded ? '' : 'none'" [attr.id]="'accordion-body-' + index"
                [attr.aria-labelledby]="'accordion-header-' + index">


                <!-- <div class="radio-parent" *ngFor="let radioItem of filterRadio let indexArray = index;">
                  <input type="radio" name="{{item.fields}}" value="{{radioItem.value}}"
                    id="filter-box-{{index}}{{indexArray}}"
                    [checked]="filterMenu[index].modificator == radioItem.value ? true : false"
                    (change)="filterInputValue(radioItem.value,index)">
                  <label for="filter-box-{{index}}{{indexArray}}">
                    {{radioItem.name}}
                  </label>
                </div> -->
                <ng-container *ngIf="normalRadioButton(index) === false">
                  <input type="search" placeholder="search" name="search" (keyup)="filterSearchValue($event , index) ">
                   <div class="radio-parent" *ngFor="let radioItem of filterRadio let indexArray = index;">
                                  <input type="radio" name="{{item.fields}}" value="{{radioItem.value}}"
                                    id="filter-box-{{index}}{{indexArray}}"
                                    [checked]="filterMenu[index].modificator === radioItem.value"
                                    (click)="filterInputValue(radioItem.value, index)">
                                  <label for="filter-box-{{index}}{{indexArray}}">
                                    {{radioItem.name}}
                                  </label>
                                </div>
                  </ng-container>
                <div *ngIf="normalRadioButton(index) === true && caseType(index)" style="
                    display: flex;
                    flex-direction: column;
                    flex-wrap: wrap;
                    width: 90%;
                    overflow-y: auto;
                    max-height: 100px;
                  ">
                  <div *ngIf="caseType(index) === true">
                    <ng-container *ngIf="index === 1">
                      <input type="search" placeholder="search" name="search" (keyup)="filterSearchValueType($event , index) " autocomplete="off"><br>
                      <label style="cursor: pointer; margin-right: 6px">
                        <input
                          type="radio"
                          name="optionType"
                          value="In"
                          (click)="setRadioMultipleType('In')"
                          [checked]="radioMultipleType === 'In'"
                        />
                        IN
                      </label>
                      <label style="cursor: pointer">
                        <input
                          type="radio"
                          name="optionType"
                          value="Not In"
                          (click)="setRadioMultipleType('Not In')"
                          [checked]="radioMultipleType === 'Not In'"
                        />
                        NOT IN
                      </label>
                      <label style="width: 90%">
                      <input
                        type="checkbox"
                        [(ngModel)]="selectAll"
                        (click)="toggleAllCheckboxes(index)"
                      />
                      Select All
                    </label>
                      <label
                      style="width: 90%"
                      *ngFor="let option of originalArrType2; let indexStatus = index"
                    >
                      <input
                        type="checkbox"
                        [(ngModel)]="option.checked"
                        (click)="checkSelectAll(option.value, index)"
                      />
                      {{ option.label }}
                    </label>
                    </ng-container>
                    <ng-container *ngIf="index === 2">
                       <input type="search" placeholder="search" name="search" (keyup)="filterSearchValueStatus($event , index) " autocomplete="off"><br>
                       <label style="cursor: pointer; margin-right: 6px">
                    <input
                      type="radio"
                      name="option"
                      value="In"
                      (click)="setRadioMultiple('In')"
                      [checked]="radioMultiple === 'In'"
                    />
                    IN
                  </label>
                  <label style="cursor: pointer">
                    <input
                      type="radio"
                      name="option"
                      value="Not In"
                      (click)="setRadioMultiple('Not In')"
                      [checked]="radioMultiple === 'Not In'"
                    />
                    NOT IN
                  </label>
                       <label style="width: 90%">
                      <input
                        type="checkbox"
                        [(ngModel)]="selectAll"
                        (click)="toggleAllCheckboxes(index)"
                      />
                      Select All
                    </label>
                       <label
                      style="width: 90%"
                      *ngFor="let option of originalArrType; let indexStatus = index"
                    >
                      <input
                        type="checkbox"
                        [(ngModel)]="option.checked"
                        (click)="checkSelectAll(option.value, index)"
                      />
                      {{ option.label }}
                    </label>
                    </ng-container>
                    <ng-container *ngIf="index === 3 && category === 'transfers'">
                      <input type="search" placeholder="search" name="search" (keyup)="filterSearchValueStatus($event , index) " autocomplete="off"><br>
                      <label style="cursor: pointer; margin-right: 6px">
                   <input
                     type="radio"
                     name="option"
                     value="In"
                     (click)="setRadioMultiple('In')"
                     [checked]="radioMultiple === 'In'"
                   />
                   IN
                 </label>
                 <label style="cursor: pointer">
                   <input
                     type="radio"
                     name="option"
                     value="Not In"
                     (click)="setRadioMultiple('Not In')"
                     [checked]="radioMultiple === 'Not In'"
                   />
                   NOT IN
                 </label>
                      <label style="width: 90%">
                     <input
                       type="checkbox"
                       [(ngModel)]="selectAll"
                       (click)="toggleAllCheckboxes(index)"
                     />
                     Select All
                   </label>
                      <label
                     style="width: 90%"
                     *ngFor="let option of originalArrType; let indexStatus = index"
                   >
                     <input
                       type="checkbox"
                       [(ngModel)]="option.checked"
                       (click)="checkSelectAll(option.value, index)"
                     />
                     {{ option.label }}
                   </label>
                   </ng-container>
                   <ng-container *ngIf="index === 5 || (index === 4 && category === 'transfers')">
                    <!-- <input type="search" placeholder="search" name="search" (keyup)="filterSearchValueStatus($event , index) " autocomplete="off"><br> -->

                    <div class="input-group" *ngIf="index === 5 || (index === 4 && category === 'transfers')">
                      <input
                        type="text"
                        placeholder="date from"
                        [value]="
                          (index === 5
                            ? dashboardOpenTimeFrom
                            : dashboardTrfTimeFrom
                          ) | date : 'yyyy-MM-dd'
                        "
                        (bsValueChange)="dateRangePiker($event, 'from', index)"
                        [bsConfig]="{ showWeekNumbers: false }"
                        bsDatepicker
                        container="body"
                        [maxDate]="maxDate()"
                      />
                    </div>
                    <div
                      class="input-group"
                    >
                      <input
                        type="text"
                        placeholder="date to"
                        [value]="
                          (index === 5 ? dashboardOpenTimeTo : dashboardTrfTimeTo)
                            | date : 'yyyy-MM-dd'
                        "
                        (bsValueChange)="dateRangePiker($event, 'to', index)"
                        [bsConfig]="{ showWeekNumbers: false }"
                        bsDatepicker
                      />
                    </div>
                 </ng-container>

                  </div>
                </div>

              </div>
            </cdk-accordion-item>
          </cdk-accordion>
        </div>
        <div class="button-parent col-md-12">
          <div class="row">
            <div class="col-md-4  p-2"><button type="button" (click)="resetFilter()"
                class="white-button full-width semi-weight">Reset</button></div>
            <div class="col-md-4 p-2"><button type="button" (click)="applyFilter(false)"
                class="primary-button full-width semi-weight">Apply</button></div>
            <div class="col-md-4 p-2"><button (click)="closeFilter()" type="button"
                class="white-button full-width semi-weight">Close</button></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Transaction Table-->
  <div class="main-white-box" (click)="filterRemove()" *ngIf="category == 'transactions'">
    <div class="table-overflow-box">
      <table class="full-width-table">
        <tr>
          <th *ngFor="let item of TransactionList.columns; let index = index"
            [ngClass]="{'d-none' :  index == 6 || index == 9 ||  index == 10 }">
            {{item.title}}<button class="simple-button" (click)="shortingHandle(item,'transaction')"><svg
                xmlns="http://www.w3.org/2000/svg" width="7" height="10" viewBox="0 0 7 10" fill="none">
                <path
                  d="M3.54377 9.92071L6.63497 6.73298C6.82785 6.53407 6.71093 6.15381 6.45689 6.15381H0.274486C0.0204399 6.15381 -0.0964805 6.53407 0.0964054 6.73298L3.18761 9.92071C3.29008 10.0264 3.44129 10.0264 3.54377 9.92071Z"
                  fill="#D9D9D9" />
                <path
                  d="M3.18731 0.0792933L0.0961056 3.26702C-0.0967808 3.46593 0.0201392 3.84619 0.274185 3.84619L6.45659 3.84619C6.71063 3.84619 6.82755 3.46593 6.63467 3.26702L3.54347 0.0792933C3.44099 -0.0263808 3.28978 -0.0263805 3.18731 0.0792933Z"
                  fill="#D9D9D9" />
              </svg></button>
          </th>
        </tr>

        <ng-container *ngIf="TransactionList?.rows?.length == 0">
          <tr>
            <td colspan="9" class="text-center"> No data found </td>
          </tr>
        </ng-container>
        <ng-container *ngIf="TransactionList?.rows?.length > 0">
          <tr *ngFor="let item of TransactionList.rows; ">
            <ng-container *ngIf="item.data[2].value == 'approved' ||
            item.data[2].value == 'declined' ||  item.data[2].value == 'cancelled'">
              <td *ngFor="let rowData of item.data; let index = index" [ngClass]="{'d-none' :   index == 6 || index == 9 || index == 10 ,
             'green-box' : rowData.value == 'approved',
              'yellow-box' : rowData.value == 'pending' || rowData.value ==  'cancelled',
              'red-box' : rowData.value == 'declined' || rowData.value ==  'fresh',
              'green' : index == 7 && valueOFColor(rowData.value) ,
              'errors' : index == 7 && !valueOFColor(rowData.value),
              'general-link pointer' : index == 4
            }">
                <div (click)="accountDetails(rowData.value)" *ngIf="index == 4">
                  {{ rowData.value ?? "-" }}
                </div>
                <div *ngIf="index != 4 && index != 7 && index != 5">
                  {{ rowData.value ?? "-" }}
                </div>
                <div *ngIf="index == 7">
                  {{currencyFor(rowData.value)}}
                </div>
                <div *ngIf="index == 5">
                  {{ (rowData.value | date:'yyyy-MM-dd HH:mm:ss') }}
                </div>

              </td>
            </ng-container>
          </tr>
        </ng-container>
      </table>
      <div class="button-parent d-flex justify-content-center">
        <div class="load_more bordered-btn"
          *ngIf="TransactionList?.rows?.length > 0 &&  TransactionList?.rows?.length >= this.limit">
          <a (click)="loadmore('transaction')">Load more</a>
        </div>
      </div>
    </div>
  </div>
  <!-- Transfer Table -->
  <div class="main-white-box" (click)="filterRemove()" *ngIf="category == 'transfers'">
    <div class="table-overflow-box">
      <table class="full-width-table">
        <tr>
          <th *ngFor="let item of TransferList.columns; let index = index">
            {{item.title}}<button class="simple-button" (click)="shortingHandle(item,'transfer')"><svg
                xmlns="http://www.w3.org/2000/svg" width="7" height="10" viewBox="0 0 7 10" fill="none">
                <path
                  d="M3.54377 9.92071L6.63497 6.73298C6.82785 6.53407 6.71093 6.15381 6.45689 6.15381H0.274486C0.0204399 6.15381 -0.0964805 6.53407 0.0964054 6.73298L3.18761 9.92071C3.29008 10.0264 3.44129 10.0264 3.54377 9.92071Z"
                  fill="#D9D9D9" />
                <path
                  d="M3.18731 0.0792933L0.0961056 3.26702C-0.0967808 3.46593 0.0201392 3.84619 0.274185 3.84619L6.45659 3.84619C6.71063 3.84619 6.82755 3.46593 6.63467 3.26702L3.54347 0.0792933C3.44099 -0.0263808 3.28978 -0.0263805 3.18731 0.0792933Z"
                  fill="#D9D9D9" />
              </svg></button>
          </th>
        </tr>

        <ng-container *ngIf="TransferList?.rows?.length == 0">
          <tr>
            <td colspan="9" class="text-center"> No data found </td>
          </tr>
        </ng-container>
        <!-- 'd-none' :   index == 6 || index == 9 || index == 10 , -->
        <ng-container *ngIf="TransferList?.rows?.length > 0">
          <tr *ngFor="let item of TransferList.rows; " >
            <!-- <ng-container> -->
            <!-- <td *ngFor="let rowData of item.data; let index = index" [ngClass]="{'d-none' :   index == 1 || index == 7,
              'green-box' : rowData.value == 'approved' ,
              'green' : index == 6 }"> -->

              <ng-container *ngFor="let rowData of item.data; let i = index">
                <td *ngIf="i > 0"
                    [ngClass]="{'green-box': rowData.value == 'approved', 'green': i == 6,
              'general-link pointer' : i == 2 || i == 3}">
                  <!-- <div *ngIf="i == 6">
                    {{ (rowData.value | number:'1.2-2')  }}
                  </div> -->
                  <div *ngIf="i > 0 && i != 2 && i != 3">
                    {{
                      i !== 6
                        ?  i === 5 ? (rowData.value | date:'yyyy-MM-dd HH:mm:ss') : rowData.value ?? "-"
                        :   (rowData.value | number:'1.2-2')
                         }}
                  </div>
                  <div (click)="accountDetails(rowData.value)" *ngIf="i === 2 || i === 3">
                  {{ rowData.value ?? "-" }}
                  </div>
                </td>
              </ng-container>
            <!-- </ng-container> -->
          </tr>
        </ng-container>
      </table>
      <div class="button-parent d-flex justify-content-center">
        <div class="load_more bordered-btn"
          *ngIf="TransferList?.rows?.length > 0 &&  TransferList?.rows?.length >= this.limit ">
          <a (click)="loadmore('transfer')">Load More</a>
        </div>
      </div>
    </div>
  </div>
</div>
