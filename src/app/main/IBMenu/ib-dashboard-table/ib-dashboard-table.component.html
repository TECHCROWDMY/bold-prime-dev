<div [loader]="isLoading">
  <div class="main-white-box">
    <div
      class="multi-data-area d-flex align-items-center justify-content-between"
    >
      <div class="dates-area d-flex">
        <div class="input-group">
          <!-- <input type="text" placeholder="From" class="form-control" (bsValueChange)="dateRangePiker($event,'from')"
            [bsConfig]="{ showWeekNumbers:false }" bsDatepicker> -->
          <input
            type="text"
            placeholder="From"
            class="form-control gen-input"
            [placeholder]="dashboardDateFrom"
            (bsValueChange)="dateRangePiker($event, 'from')"
            [maxDate]="maxDate()"
            [bsConfig]="{ showWeekNumbers: false }"
            bsDatepicker
          />
        </div>
        <div class="input-group">
          <!-- <input type="text" placeholder="To" class="form-control" (bsValueChange)="dateRangePiker($event,'to')"
            [bsConfig]="{ showWeekNumbers:false }" bsDatepicker> -->
          <input
            type="text"
            [placeholder]="dashboardDateTo"
            placeholder="To"
            class="form-control gen-input"
            (bsValueChange)="dateRangePiker($event, 'to')"
            [maxDate]="maxDate()"
            [minDate]="minDate()"
            [bsConfig]="{ showWeekNumbers: false }"
            bsDatepicker
          />
          <br />
        </div>
        <div class="boxed-label-input d-flex">
          <label>Common Currency</label>
          <select name="" id="">
            <option value="Email">USD</option>
          </select>
        </div>
      </div>
      <button
        type="button"
        (click)="getDashboardList()"
        class="primary-button md-btn sub-title"
      >
        Submit
      </button>
    </div>
  </div>
  <div
    class="title-btn-box row d-flex align-items-center justify-content-between"
  >
    <div class="titles col-lg-3 col-md-5 d-flex align-items-center"></div>
    <div
      class="col-lg-8 col-md-7 d-md-flex justify-content-end align-items-center"
    >
      <a
      class="bordered-btn active"
      (click)="toggleShowTotals()"
      *ngIf="showTotals === false && isLoading === false"
      >Calculate Totals</a
    >
      <a class="bordered-btn md-btn sub-title" (click)="filterHandle()">
        <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M13.9389 9.5655C15.5119 9.5655 16.7916 10.8388 16.7916 12.4035C16.7916 13.9683 15.5119 15.2415 13.9389 15.2415C12.365 15.2415 11.0844 13.9683 11.0844 12.4035C11.0844 10.8388 12.365 9.5655 13.9389 9.5655ZM13.9389 10.9405C13.1231 10.9405 12.4594 11.5968 12.4594 12.4035C12.4594 13.2111 13.1231 13.8665 13.9389 13.8665C14.7538 13.8665 15.4166 13.2111 15.4166 12.4035C15.4166 11.5968 14.7538 10.9405 13.9389 10.9405ZM7.24027 11.7516C7.61977 11.7516 7.92777 12.0596 7.92777 12.4391C7.92777 12.8186 7.61977 13.1266 7.24027 13.1266H1.46436C1.08486 13.1266 0.776858 12.8186 0.776858 12.4391C0.776858 12.0596 1.08486 11.7516 1.46436 11.7516H7.24027ZM3.60358 0.666504C5.1775 0.666504 6.45717 1.94067 6.45717 3.50542C6.45717 5.07017 5.1775 6.3425 3.60358 6.3425C2.03058 6.3425 0.75 5.07017 0.75 3.50542C0.75 1.94067 2.03058 0.666504 3.60358 0.666504ZM3.60358 2.0415C2.78867 2.0415 2.125 2.69784 2.125 3.50542C2.125 4.31209 2.78867 4.9675 3.60358 4.9675C4.41942 4.9675 5.08217 4.31209 5.08217 3.50542C5.08217 2.69784 4.41942 2.0415 3.60358 2.0415ZM15.5918 2.86687C15.9713 2.86687 16.2793 3.17487 16.2793 3.55437C16.2793 3.93387 15.9713 4.24187 15.5918 4.24187H9.81684C9.43734 4.24187 9.12934 3.93387 9.12934 3.55437C9.12934 3.17487 9.43734 2.86687 9.81684 2.86687H15.5918Z" />
        </svg> Filter
      </a>
        <a class="bordered-btn md-btn sub-title" (click)="exportCSVFile()">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M0.833008 10.6342C0.833008 8.392 2.65717 6.56784 4.89934 6.56784H5.75367C6.13317 6.56784 6.44117 6.87584 6.44117 7.25534C6.44117 7.63484 6.13317 7.94284 5.75367 7.94284H4.89934C3.41434 7.94284 2.20801 9.15009 2.20801 10.6342L2.20801 15.1029C2.20801 16.5852 3.41434 17.7915 4.89934 17.7915H15.1009C16.585 17.7915 17.7913 16.5852 17.7913 15.1029V10.6241C17.7913 9.14642 16.5887 7.94284 15.111 7.94284H14.2466C13.8671 7.94284 13.5591 7.63484 13.5591 7.25534C13.5591 6.87584 13.8671 6.56784 14.2466 6.56784H15.111C17.3477 6.56784 19.1663 8.38834 19.1663 10.6241V15.1029C19.1663 17.3433 17.3431 19.1665 15.1009 19.1665H4.89934C2.65717 19.1665 0.833008 17.3433 0.833008 15.1029L0.833008 10.6342ZM6.84084 3.22741L9.51292 0.543409C9.53668 0.519466 9.56139 0.498024 9.58753 0.478403L9.51292 0.543409C9.54494 0.510933 9.57993 0.48205 9.61725 0.456991C9.63415 0.445961 9.65163 0.435322 9.6696 0.425463C9.68364 0.417461 9.69829 0.410097 9.71318 0.403271C9.72634 0.397484 9.73951 0.39193 9.75288 0.38678C9.7703 0.379869 9.78821 0.373817 9.80636 0.368509C9.82065 0.36451 9.83491 0.360834 9.84934 0.357611C9.86685 0.353516 9.88447 0.35029 9.90222 0.347755C9.91376 0.346319 9.92585 0.344915 9.93804 0.343832C9.95894 0.341732 9.97927 0.340828 9.99967 0.340828L10.0565 0.345501L10.0929 0.347382C10.0945 0.347593 10.096 0.347809 10.0976 0.34803L9.99967 0.340828C10.0506 0.340828 10.1009 0.346462 10.1499 0.357412C10.1644 0.360832 10.1787 0.36451 10.1928 0.368626C10.2111 0.373817 10.229 0.379869 10.2467 0.386648C10.2598 0.39193 10.273 0.397486 10.286 0.403431C10.3011 0.410099 10.3157 0.417461 10.3301 0.42535C10.3477 0.435322 10.3652 0.445961 10.3821 0.457335C10.3922 0.463768 10.4021 0.470827 10.4119 0.478159C10.4406 0.499985 10.4676 0.523767 10.4926 0.549501L13.1594 3.22741C13.2933 3.36124 13.3602 3.53724 13.3602 3.71233C13.3602 3.88833 13.2933 4.06524 13.1576 4.19908C12.8881 4.46674 12.4536 4.46583 12.1859 4.19724L10.6872 2.694L10.6872 12.0662C10.6872 12.4457 10.3792 12.7537 9.99967 12.7537C9.62017 12.7537 9.31217 12.4457 9.31217 12.0662L9.31217 2.69217L7.81434 4.19724C7.54667 4.46583 7.11217 4.46766 6.84267 4.19908C6.57317 3.93141 6.57317 3.49691 6.84084 3.22741Z" />
            </svg> Export to CSV
        </a>
      <div class="filter-over-box" [ngClass]="{ show: filterHideShow == true }">
        <div class="top-area">
          <div class="text-center semi-weight">Filter</div>
        </div>
        <cdk-accordion class="example-accordion">
          <cdk-accordion-item
            *ngFor="let item of filterMenu; let index = index"
            #accordionItem="cdkAccordionItem"
            class="example-accordion-item"
            role="button"
            tabindex="0"
            [attr.id]="'accordion-header-' + index"
            [attr.aria-expanded]="accordionItem.expanded"
            [attr.aria-controls]="'accordion-body-' + index"
          >
            <div
              class="example-accordion-item-header d-flex align-items-center justify-content-between"
              (click)="accordionItem.toggle()"
            >
              {{ item.fields }}
              <svg
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M6.1018 8C5.02785 8 4.45387 9.2649 5.16108 10.0731L10.6829 16.3838C11.3801 17.1806 12.6197 17.1806 13.3169 16.3838L18.8388 10.0731C19.5459 9.2649 18.972 8 17.898 8H6.1018Z"
                  fill="#212121"
                />
              </svg>
              <!-- <span class="example-accordion-item-description">
                      Click to {{ accordionItem.expanded ? 'close' : 'open' }}
                    </span> -->
            </div>
            <div
              class="example-accordion-item-body"
              role="region"
              [style.display]="accordionItem.expanded ? '' : 'none'"
              [attr.id]="'accordion-body-' + index"
              [attr.aria-labelledby]="'accordion-header-' + index"
            >
              <input
                type="search"
                placeholder="search"
                name="search"
                (keyup)="filterSearchValue($event, index)"
              />

              <!-- <div class="radio-parent" *ngFor="let radioItem of filterRadio let indexArray = index;">
                <input type="radio" name="{{item.fields}}" value="{{radioItem.value}}"
                  id="filter-box-{{index}}{{indexArray}}"
                  [checked]="filterMenu[index].modificator == radioItem.value ? true : false"
                  (change)="filterInputValue(radioItem.value,index)">
                <label for="filter-box-{{index}}{{indexArray}}">
                  {{radioItem.name}}
                </label>
              </div> -->

              <div
                class="radio-parent"
                *ngFor="let radioItem of filterRadio; let indexArray = index"
              >
                <input
                  type="radio"
                  name="{{ item.fields }}"
                  value="{{ radioItem.value }}"
                  id="filter-box-{{ index }}{{ indexArray }}"
                  [checked]="filterMenu[index].modificator === radioItem.value"
                  (click)="filterInputValue(radioItem.value, index)"
                />
                <label for="filter-box-{{ index }}{{ indexArray }}">
                  {{ radioItem.name }}
                </label>
              </div>
            </div>
          </cdk-accordion-item>
        </cdk-accordion>

         <!-- <div class="filter-overflow">
                <accordion [isAnimated]="true">
                <accordion-group heading="{{item.field}}" *ngFor="let item of filterMenu; let index = index;">
                  <input type="search" placeholder="search" name="search" (keyup)="filterSearchValue($event , index)">
                  <div class="radio-parent" *ngFor="let radioItem of filterRadio let indexArray = index;">
                    <input type="radio" name="{{item.field}}" value="{{radioItem.value}}"
                      id="filter-box-{{index}}{{indexArray}}"
                      [checked]="filterMenu[index].modificator == radioItem.value ? true : false"
                      (change)="filterInputValue(radioItem.value,index)">
                    <label for="filter-box-{{index}}{{indexArray}}">
                      {{radioItem.name}}
                    </label>
                  </div>
                </accordion-group>
              </accordion>
              </div> -->
        <div class="button-parent col-md-12">
          <div class="row">
            <div class="col-md-4 p-2">
              <button
                (click)="resetFilter()"
                type="button"
                class="white-button full-width semi-weight"
              >
                Reset
              </button>
            </div>
            <div class="col-md-4 p-2">
              <button
                (click)="applyFilter()"
                type="button"
                class="primary-button full-width semi-weight"
              >
                Apply
              </button>
            </div>
            <div class="col-md-4 p-2">
              <button
                (click)="closeFilter()"
                type="button"
                class="white-button full-width semi-weight"
              >
                Close
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- <div class="main-white-box">
    <div class="table-overflow-box">
      <table class="full-width-table">
        <thead>
          <tr>
              <th *ngFor="let item of dashboardList.columns; let index = index;">
                  {{item.title}} <button  (click)="shortingHandle(item)" class="simple-button"><svg xmlns="http://www.w3.org/2000/svg" width="7" height="10"
                    viewBox="0 0 7 10" fill="none">
                    <path
                      d="M3.54377 9.92071L6.63497 6.73298C6.82785 6.53407 6.71093 6.15381 6.45689 6.15381H0.274486C0.0204399 6.15381 -0.0964805 6.53407 0.0964054 6.73298L3.18761 9.92071C3.29008 10.0264 3.44129 10.0264 3.54377 9.92071Z"
                      fill="#D9D9D9" />
                    <path
                      d="M3.18731 0.0792933L0.0961056 3.26702C-0.0967808 3.46593 0.0201392 3.84619 0.274185 3.84619L6.45659 3.84619C6.71063 3.84619 6.82755 3.46593 6.63467 3.26702L3.54347 0.0792933C3.44099 -0.0263808 3.28978 -0.0263805 3.18731 0.0792933Z"
                      fill="#D9D9D9" /></svg></button>
              </th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngIf="dashboardList?.rows?.length == 0">
            <tr>
              <td colspan="12" class="text-center"> No data found </td>
            </tr>
          </ng-container>

          <ng-container *ngIf="dashboardList?.rows?.length > 0">

            <tr *ngFor="let element of dashboardList.rows; let index = index;">

                <td *ngFor="let elementRow of element.data; let Arrayindex = index;"
                  [ngClass]="{'d-none': Arrayindex == 0 || Arrayindex == 1 || Arrayindex == 2 }">
                  {{elementRow.value }}
                <td>
                </td>

            </tr>
          </ng-container>

        </tbody>
      </table>
    </div>
  </div> -->

  <div class="main-white-box">
    <div class="table-overflow-box">
      <table class="full-width-table">
        <thead>
        <tr *ngIf="showTotals === true">
            <th>Total</th>
            <th></th>
            <th></th>
            <th>{{ +balanceTotal ?  (+balanceTotal | number:'1.2-2')  : "0.00" }}</th>
            <th>{{ +equityTotal ? (+equityTotal | number:'1.2-2') : "0.00" }}</th>
            <th>{{ +depositTotal ? (+depositTotal | number:'1.2-2') : "0.00" }}</th>
            <th>{{ +withdrawalTotal ? (+withdrawalTotal | number:'1.2-2') : "0.00" }}</th>
            <th>{{ +lotsTotal ? (+lotsTotal | number:'1.2-2') : "0.00" }}</th>
            <th>{{ +commissionTotal ? (+commissionTotal | number:'1.2-2') : "0.00" }}</th>
            <th></th>


          </tr>
          <tr>
            <!-- <ng-container *ngIf="showIBS"> -->
            <th *ngFor="let item of dashboardList.columns; let index = index">
              {{ item.title }} <button class="simple-button" (click)="shortingHandle(item)"><svg
                xmlns="http://www.w3.org/2000/svg" width="7" height="10" viewBox="0 0 7 10" fill="none">
                <path
                  d="M3.54377 9.92071L6.63497 6.73298C6.82785 6.53407 6.71093 6.15381 6.45689 6.15381H0.274486C0.0204399 6.15381 -0.0964805 6.53407 0.0964054 6.73298L3.18761 9.92071C3.29008 10.0264 3.44129 10.0264 3.54377 9.92071Z"
                  fill="#D9D9D9" />
                <path
                  d="M3.18731 0.0792933L0.0961056 3.26702C-0.0967808 3.46593 0.0201392 3.84619 0.274185 3.84619L6.45659 3.84619C6.71063 3.84619 6.82755 3.46593 6.63467 3.26702L3.54347 0.0792933C3.44099 -0.0263808 3.28978 -0.0263805 3.18731 0.0792933Z"
                  fill="#D9D9D9" />
              </svg></button>
            </th>
            <!-- </ng-container> -->
            <!-- <ng-container *ngIf="!showIBS">
              <th *ngFor="let item of dashboardList.columns; let index = index;"
                [ngClass]="{'d-none':index == 2 || index == 0}">

                <ng-container *ngIf="index == 1">

                </ng-container>
                <ng-container *ngIf="index != 1">
                  {{item.title}}
                  <button (click)="shortingHandle(item)" class="simple-button"><svg xmlns="http://www.w3.org/2000/svg" width="7" height="10"
                      viewBox="0 0 7 10" fill="none">
                      <path
                        d="M3.54377 9.92071L6.63497 6.73298C6.82785 6.53407 6.71093 6.15381 6.45689 6.15381H0.274486C0.0204399 6.15381 -0.0964805 6.53407 0.0964054 6.73298L3.18761 9.92071C3.29008 10.0264 3.44129 10.0264 3.54377 9.92071Z"
                        fill="#D9D9D9"></path>
                      <path
                        d="M3.18731 0.0792933L0.0961056 3.26702C-0.0967808 3.46593 0.0201392 3.84619 0.274185 3.84619L6.45659 3.84619C6.71063 3.84619 6.82755 3.46593 6.63467 3.26702L3.54347 0.0792933C3.44099 -0.0263808 3.28978 -0.0263805 3.18731 0.0792933Z"
                        fill="#D9D9D9"></path>
                    </svg></button>
                </ng-container>

              </th>

            </ng-container> -->
          </tr>
          <!-- <tr>
            <th> Total </th>
            <th> {{ibTotal?.balance}} </th>
            <th> {{ibTotal?.equity}} </th>
            <th> {{ibTotal?.deposits}} </th>
            <th> {{ibTotal?.withdrawals}}</th>
            <th> {{ibTotal?.lots}} </th>
            <th> {{ibTotal?.commission}}</th>
            <th> </th>
            <th> </th>

          </tr> -->
        </thead>
        <tbody>
          <ng-container *ngIf="dashboardList?.rows?.length == 0">
            <tr>
              <td colspan="12" class="text-center">No data found</td>
            </tr>
          </ng-container>
          <ng-container *ngIf="dashboardList?.rows?.length > 0">
            <tr *ngFor="let item of dashboardList.rows">
              <td *ngFor="let rowData of item.data; let index = index">
                <ng-container *ngIf="index == 7">
                  {{  (rowData.value | number:'1.2-2') }}
                </ng-container>

                <!-- <ng-container
                  *ngIf="
                    index != 7 &&
                    index != 9 &&
                    index != 11 &&
                    index != 12 &&
                    index !== 4 &&
                    index !== 6
                  "
                >
                  {{ rowData.value != "" ? rowData.value : "-" }}
                </ng-container> -->

                <ng-container *ngIf="index !== 7">
                  {{ rowData.value }}
                </ng-container>
                <!-- <ng-container *ngIf="index === 4 || index === 6">
                  {{ formatDate(rowData.value) }}
                </ng-container>  -->
              </td>
            </tr>
            <!-- <ng-container
              *ngFor="let element of dashboardList.rows; let indexArray = index"
            >
              <ng-container>
                <tr style="color: black">
                  <td>
                    {{ element?.values?.firstName }}
                    {{ element?.values?.lastName }}
                    {{ element?.values?.levelName }}
                  </td>
                  <td>{{ element?.levelName }}</td>
                  <td>{{ element?.values?.balance }}</td>
                  <td>{{ element?.values?.equity }}</td>
                  <td>{{ element?.values?.deposits }}</td>
                  <td>{{ element?.values?.withdrawals }}</td>
                  <td>{{ element?.values?.lots }}</td>
                  <td>{{ element?.values?.commission }}</td>
                  <td>{{ element?.values?.country }}</td>
                  <td>
                    <button
                      (click)="getAccountList(element)"
                      class="simple-button"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="15"
                        height="15"
                        viewBox="0 0 15 15"
                        fill="none"
                      >
                        <path
                          d="M14.9999 14.374C14.9999 14.5398 14.9341 14.6987 14.8169 14.8159C14.6996 14.9331 14.5407 14.999 14.3749 14.999H0.624909C0.459148 14.999 0.300177 14.9331 0.182967 14.8159C0.0657566 14.6987 -9.14217e-05 14.5398 -9.14217e-05 14.374C-9.14217e-05 14.2082 0.0657566 14.0493 0.182967 13.9321C0.300177 13.8148 0.459148 13.749 0.624909 13.749H14.3749C14.5407 13.749 14.6996 13.8148 14.8169 13.9321C14.9341 14.0493 14.9999 14.2082 14.9999 14.374ZM0.181784 5.344C0.04711 5.0942 -0.0152823 4.81181 0.00160885 4.52853C0.0185 4.24524 0.114006 3.97227 0.277409 3.74025C0.544445 3.34844 0.902061 3.02685 1.31991 2.80275L6.00803 0.362747C6.46882 0.123141 6.98055 -0.00195313 7.49991 -0.00195312C8.01927 -0.00195313 8.531 0.123141 8.99179 0.362747L13.6793 2.80462C14.0971 3.02872 14.4547 3.35032 14.7218 3.74212C14.8852 3.97415 14.9807 4.24712 14.9976 4.5304C15.0145 4.81369 14.9521 5.09608 14.8174 5.34587C14.6724 5.62014 14.455 5.84937 14.1887 6.00861C13.9225 6.16786 13.6176 6.251 13.3074 6.249H13.1249V11.249H13.7499C13.9157 11.249 14.0746 11.3148 14.1919 11.4321C14.3091 11.5493 14.3749 11.7082 14.3749 11.874C14.3749 12.0398 14.3091 12.1987 14.1919 12.3159C14.0746 12.4331 13.9157 12.499 13.7499 12.499H1.24991C1.08415 12.499 0.925177 12.4331 0.807967 12.3159C0.690757 12.1987 0.624909 12.0398 0.624909 11.874C0.624909 11.7082 0.690757 11.5493 0.807967 11.4321C0.925177 11.3148 1.08415 11.249 1.24991 11.249H1.87491V6.249H1.69241C1.38188 6.25094 1.07679 6.16756 0.810402 6.00798C0.544016 5.84839 0.32657 5.61871 0.181784 5.344ZM3.12491 11.249H4.99991V6.249H3.12491V11.249ZM6.24991 6.249V11.249H8.74991V6.249H6.24991ZM11.8749 6.249H9.99991V11.249H11.8749V6.249ZM1.28928 4.76462C1.3285 4.83692 1.38685 4.89703 1.45796 4.93837C1.52907 4.97971 1.61018 5.00069 1.69241 4.999H13.3074C13.3896 5.00069 13.4708 4.97971 13.5419 4.93837C13.613 4.89703 13.6713 4.83692 13.7105 4.76462C13.7391 4.71685 13.7529 4.6617 13.7502 4.60611C13.7476 4.55051 13.7285 4.49694 13.6955 4.45212C13.5441 4.22707 13.3406 4.04183 13.1024 3.91212L8.41491 1.47025C8.13241 1.32364 7.81881 1.2471 7.50053 1.2471C7.18226 1.2471 6.86865 1.32364 6.58616 1.47025L1.89866 3.91212C1.66052 4.04225 1.45711 4.22766 1.30553 4.45275C1.27246 4.49738 1.25329 4.55076 1.25039 4.60624C1.2475 4.66171 1.26103 4.7168 1.28928 4.76462Z"
                          fill="#2369B3"
                        />
                      </svg>
                    </button>
                  </td>
                </tr>
              </ng-container>
            </ng-container> -->
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>
</div>
